<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kisan Vani | Login</title>
    <link rel="stylesheet" href="../css/login.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="login-card">
        <div class="login-header">
<<<<<<< HEAD
            <a href="dashboard.html" class="back-link" data-key="back-link">‚Üê Back to Dashboard</a>
=======
            <a href="dashboard.html" class="back-link" id="backLink">‚Üê Back to Dashboard</a>
>>>>>>> 90007a46577bbcbfe5662a63784027e7f62df416
            <select id="login-lang" class="lang-select">
                <option value="en-IN">English</option>
                <option value="hi-IN">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                <option value="or-IN">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
            </select>
        </div>

        <div class="login-body">
            <div class="brand-title">üåæ Kisan Vani</div>
<<<<<<< HEAD
            <h2 data-key="login-welcome">Welcome Back</h2>
            <p data-key="login-subtitle">Enter your details to open your Digital Saathi</p>
=======
            <h2 id="welcomeTitle">Welcome Back</h2>
            <p id="welcomeSub">Enter your details to open your Digital Saathi</p>
>>>>>>> 90007a46577bbcbfe5662a63784027e7f62df416

            <form id="loginForm">
                
                <div class="input-group">
<<<<<<< HEAD
                    <label for="fullName" data-key="label-name">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required placeholder="E.g. Ramesh Kumar" data-key="placeholder-name">
                </div>
                
                <div class="input-group">
                    <label for="phone" data-key="label-phone">Mobile Number</label>
                    <input type="tel" id="phone" name="phone" required placeholder="+91" pattern="[0-9]{10}" title="Please enter a valid 10-digit number" data-key="placeholder-phone">
                </div>

                <button type="button" class="login-submit-btn" onclick="handleLogin()" data-key="login-page-btn">GET STARTED</button>
=======
                    <label for="fullName" id="nameLabel">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required placeholder="E.g. Ramesh Kumar">
                </div>
                
                <div class="input-group">
                    <label for="phone" id="phoneLabel">Mobile Number</label>
                    <input type="tel" id="phone" name="phone" required placeholder="+91" pattern="[0-9]{10}" title="Please enter a valid 10-digit number">
                </div>

                <button type="button" class="login-submit-btn" id="loginBtn" onclick="handleLogin()">GET STARTED</button>
>>>>>>> 90007a46577bbcbfe5662a63784027e7f62df416
            </form>
        </div>
    </div>

    <script src="../js/translations.js"></script>
    <script src="../js/login.js"></script>

    <script>
        const loginTranslations = {
            "en-IN": {
                backLink: "‚Üê Back to Dashboard",
                welcomeTitle: "Welcome Back",
                welcomeSub: "Enter your details to open your Digital Saathi",
                nameLabel: "Full Name",
                namePlaceholder: "E.g. Ramesh Kumar",
                phoneLabel: "Mobile Number",
                loginBtn: "GET STARTED"
            },
            "hi-IN": {
                backLink: "‚Üê ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç",
                welcomeTitle: "‡§µ‡§æ‡§™‡§∏‡•Ä ‡§™‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",
                welcomeSub: "‡§Ö‡§™‡§®‡§æ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡§æ‡§•‡•Ä ‡§ñ‡•ã‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
                nameLabel: "‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ",
                namePlaceholder: "‡§â‡§¶‡§æ. ‡§∞‡§Æ‡•á‡§∂ ‡§ï‡•Å‡§Æ‡§æ‡§∞",
                phoneLabel: "‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞",
                loginBtn: "‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç"
            },
            "or-IN": {
                backLink: "‚Üê ‡¨°‡≠ç‡≠ü‡¨æ‡¨∏‡¨¨‡≠ã‡¨∞‡≠ç‡¨°‡¨ï‡≠Å ‡¨´‡≠á‡¨∞‡¨®‡≠ç‡¨§‡≠Å",
                welcomeTitle: "‡¨∏‡≠ç‡¨µ‡¨æ‡¨ó‡¨§‡¨Æ‡≠ç",
                welcomeSub: "‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨°‡¨ø‡¨ú‡¨ø‡¨ü‡¨æ‡¨≤‡≠ç ‡¨∏‡¨æ‡¨•‡≠Ä ‡¨ñ‡≠ã‡¨≤‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨®‡¨ø‡¨ú‡¨∞ ‡¨¨‡¨ø‡¨¨‡¨∞‡¨£‡≠Ä ‡¨™‡≠ç‡¨∞‡¨¶‡¨æ‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å",
                nameLabel: "‡¨™‡≠Ç‡¨∞‡¨æ ‡¨®‡¨æ‡¨Æ",
                namePlaceholder: "‡¨â‡¨¶‡¨æ‡¨π‡¨∞‡¨£: ‡¨∞‡¨Æ‡≠á‡¨∂ ‡¨ï‡≠Å‡¨Æ‡¨æ‡¨∞",
                phoneLabel: "‡¨Æ‡≠ã‡¨¨‡¨æ‡¨á‡¨≤‡≠ç ‡¨®‡¨Æ‡≠ç‡¨¨‡¨∞",
                loginBtn: "‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å"
            }
        };

        const loginLangSelect = document.getElementById('login-lang');
        
        // Function to apply translation
        function applyLoginTranslation(lang) {
            const t = loginTranslations[lang];
            if (!t) return;
            
            document.getElementById('backLink').innerText = t.backLink;
            document.getElementById('welcomeTitle').innerText = t.welcomeTitle;
            document.getElementById('welcomeSub').innerText = t.welcomeSub;
            document.getElementById('nameLabel').innerText = t.nameLabel;
            document.getElementById('fullName').placeholder = t.namePlaceholder;
            document.getElementById('phoneLabel').innerText = t.phoneLabel;
            document.getElementById('loginBtn').innerText = t.loginBtn;
        }

        // 1. When dropdown changes on this page, save the choice and translate
        loginLangSelect.addEventListener('change', (e) => {
            const lang = e.target.value;
            localStorage.setItem('kisanGlobalLang', lang); // Save globally
            applyLoginTranslation(lang);
        });

        // 2. On page load, instantly check if a language was already chosen on the Dashboard!
        window.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('kisanGlobalLang');
            if (savedLang) {
                loginLangSelect.value = savedLang;
                applyLoginTranslation(savedLang);
            }
        });
    </script>
</body>
</html>